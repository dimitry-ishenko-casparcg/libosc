////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2020 Dimitry Ishenko
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com
//
// Distributed under the GNU GPL license. See the LICENSE.md file for details.

////////////////////////////////////////////////////////////////////////////////
#include "message.hpp"

////////////////////////////////////////////////////////////////////////////////
namespace osc
{

////////////////////////////////////////////////////////////////////////////////
message::message(string address) : address_(std::move(address))
{
    // TODO: validate address
}

////////////////////////////////////////////////////////////////////////////////
std::ostream& operator<<(std::ostream& os, const message& msg)
{
    os << value(msg.address());

    string tags = ",";
    for(auto const& val : msg.values()) tags += val.tag();
    os << value(tags);

    for(auto const& val : msg.values()) os << val;

    return os;
}

////////////////////////////////////////////////////////////////////////////////
}
